version: '3.9'
services:
  test_api:
    container_name: fastapi_project_tests
    build:
      context: .
      dockerfile: Dockerfile
    environment:
      - REDIS_HOST=redis
      - REDIS_PORT=6379
    command: "pytest -vv"
    networks:
      - fastapi_project_network
networks:
  fastapi_project_network:
    name: fastapi_project_network
